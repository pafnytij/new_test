{"name": "Запрос changedealcommission: проверка работы.", "status": "failed", "statusDetails": {"message": "AssertionError: assert '0' == '10'\n  - 10\n  + 0", "trace": "deal_history = {'deal_comission': '0', 'deals': '194183', 'from': 1604328076, 'to': 1604328127}\n\n    @allure.title(\"Запрос changedealcommission: проверка работы.\")\n    @allure.severity('blocker')\n    @pytest.mark.smoke\n    def test_changedealcommission_1(deal_history):\n        \"\"\"\n        Описание шагов:\n            Setup: создаём аккаунт с логином 100.\n                - Пополняем баланс аккаунта\n                - Открываем на нём позицию.\n                - Запрсоом getdealshistory находим номер нужной сделки.\n            Тест:\n                Шаг1: Рассчитываем новую комиссию для сделки\n                Шаг2: устанавливаем новую комиссию\n                Шаг3: запрашиваем историю по необходимой сделке и сверяем данные\n            Tear down:\n                - Закрытие сделки\n                - Удаление аккаунта\n        \"\"\"\n        with allure.step('Расчитываем новую комиссию для сделки'):\n            new_comission = str(int(deal_history['deal_comission']) + 10)\n        with allure.step('Запросом changedealcommission устанавливаем комиссию'):\n            changedealcommission = wik5.request(wik_mt5_addr,'changedealcommission', deal=deal_history['deals'], value= new_comission)\n            # Данные для отчёта: stdout\n            print(\"Ответ на запрос changedealcommission: \", changedealcommission)\n            with allure.step('Проверяем работу запроса'):\n                getdealshistory_1 = wik5.request(wik_mt5_addr, 'getdealshistory', **{'login': 100, 'from':deal_history['from'], 'to':deal_history['to']})\n>               assert getdealshistory_1['size'][0]['commission'] == new_comission\nE               AssertionError: assert '0' == '10'\nE                 - 10\nE                 + 0\n\nAntelope\\test_changedealcommission.py:65: AssertionError"}, "description": "\n    Описание шагов:\n        Setup: создаём аккаунт с логином 100.\n            - Пополняем баланс аккаунта\n            - Открываем на нём позицию.\n            - Запрсоом getdealshistory находим номер нужной сделки.\n        Тест:\n            Шаг1: Рассчитываем новую комиссию для сделки\n            Шаг2: устанавливаем новую комиссию\n            Шаг3: запрашиваем историю по необходимой сделке и сверяем данные\n        Tear down:\n            - Закрытие сделки\n            - Удаление аккаунта\n    ", "steps": [{"name": "Расчитываем новую комиссию для сделки", "status": "passed", "start": 1604317307438, "stop": 1604317307438}, {"name": "Запросом changedealcommission устанавливаем комиссию", "status": "failed", "statusDetails": {"message": "AssertionError: assert '0' == '10'\n  - 10\n  + 0\n", "trace": "  File \"C:\\Users\\Pavel Starovoitov.TFBDEV\\PycharmProjects\\wikmt5_antelope\\Antelope\\test_changedealcommission.py\", line 65, in test_changedealcommission_1\n    assert getdealshistory_1['size'][0]['commission'] == new_comission\n"}, "steps": [{"name": "Проверяем работу запроса", "status": "failed", "statusDetails": {"message": "AssertionError: assert '0' == '10'\n  - 10\n  + 0\n", "trace": "  File \"C:\\Users\\Pavel Starovoitov.TFBDEV\\PycharmProjects\\wikmt5_antelope\\Antelope\\test_changedealcommission.py\", line 65, in test_changedealcommission_1\n    assert getdealshistory_1['size'][0]['commission'] == new_comission\n"}, "start": 1604317307441, "stop": 1604317307443}], "start": 1604317307438, "stop": 1604317307444}], "attachments": [{"name": "stdout", "source": "3798518a-f304-43de-9b35-c49755839b1a-attachment.txt", "type": "text/plain"}], "start": 1604317307438, "stop": 1604317307444, "uuid": "e2f90ea7-5684-437c-863c-cf0c70f746f3", "historyId": "6d6cb8dc78663461b9a6064032c14a24", "testCaseId": "e9a7ac3c02f51b041bcef84e245e1215", "fullName": "Antelope.test_changedealcommission#test_changedealcommission_1", "labels": [{"name": "severity", "value": "blocker"}, {"name": "tag", "value": "smoke"}, {"name": "parentSuite", "value": "Antelope"}, {"name": "suite", "value": "test_changedealcommission"}, {"name": "host", "value": "WKST-T-5"}, {"name": "thread", "value": "8604-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "Antelope.test_changedealcommission"}]}