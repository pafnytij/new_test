{"name": "Запрос modifyposition: проверка работы параметров sl/tp.", "status": "failed", "statusDetails": {"message": "AssertionError: assert '1' == '-4'\n  - -4\n  + 1", "trace": "open_position = {'position': '102889'}\n\n    @allure.title(\"Запрос modifyposition: проверка работы параметров sl/tp.\")\n    @allure.severity('normal')\n    def test_modifyposition_5(open_position):\n        \"\"\"\n        Описание шагов:\n            Setup: создаём аккаунт 100\n                 - пополняем баланс\n                 - вбрасываем котировку\n                 - открываем позицию\n            Тест:\n                Шаг1: отправляем запрос modifyposition с sl>price cmd=0\n                Шаг2: отправляем запрос modifyposition с sl<price cmd=1\n                Шаг3: отправляем запрос modifyposition с tp<price cmd=0\n                Шаг4: отправляем запрос modifyposition с tp>price cmd=1\n                Шаг5: отправляем запрос modifyposition с sl=tp=price\n                Ожидаемый ответ: result=1&reason=&request_id=\n            Tear down: закрываем позицию.\n                 - удаляем аккаунт\n        \"\"\"\n        with allure.step('Запрос modifyposition с sl>price cmd=0'):\n            modifyposition = wik5.request(wik_mt5_addr, 'modifyposition', position=open_position[\"position\"], sl=1.2,tp=1.5)\n            # Данные для отчёта: stdout\n            print(\"Ответ на запрос modifyposition: \", modifyposition)\n            with allure.step('Проверка ответа'):\n                assert '1' == modifyposition['result']\n        with allure.step('Запрос openorder с cmd = 1'):\n            openorder_cmd1_1 = wik5.request(wik_mt5_addr, 'openorder', login=100, symbol=\"EURUSD\", cmd=1, volume=100, price=1.000)\n            time.sleep(1)\n        with allure.step('Запрос modifyposition с sl<price cmd=1'):\n            modifyposition = wik5.request(wik_mt5_addr, 'modifyposition', position=openorder_cmd1_1[\"orderid\"], sl=0.8, tp=0.5)\n            with allure.step('Проверка ответа'):\n>               assert '1' == modifyposition['result']\nE               AssertionError: assert '1' == '-4'\nE                 - -4\nE                 + 1\n\nAntelope\\test_modifyposition.py:200: AssertionError"}, "description": "\n    Описание шагов:\n        Setup: создаём аккаунт 100\n             - пополняем баланс\n             - вбрасываем котировку\n             - открываем позицию\n        Тест:\n            Шаг1: отправляем запрос modifyposition с sl>price cmd=0\n            Шаг2: отправляем запрос modifyposition с sl<price cmd=1\n            Шаг3: отправляем запрос modifyposition с tp<price cmd=0\n            Шаг4: отправляем запрос modifyposition с tp>price cmd=1\n            Шаг5: отправляем запрос modifyposition с sl=tp=price\n            Ожидаемый ответ: result=1&reason=&request_id=\n        Tear down: закрываем позицию.\n             - удаляем аккаунт\n    ", "steps": [{"name": "Запрос modifyposition с sl>price cmd=0", "status": "passed", "steps": [{"name": "Проверка ответа", "status": "passed", "start": 1604313503300, "stop": 1604313503300}], "start": 1604313503298, "stop": 1604313503300}, {"name": "Запрос openorder с cmd = 1", "status": "passed", "start": 1604313503300, "stop": 1604313504303}, {"name": "Запрос modifyposition с sl<price cmd=1", "status": "failed", "statusDetails": {"message": "AssertionError: assert '1' == '-4'\n  - -4\n  + 1\n", "trace": "  File \"C:\\Users\\Pavel Starovoitov.TFBDEV\\PycharmProjects\\wikmt5_antelope\\Antelope\\test_modifyposition.py\", line 200, in test_modifyposition_5\n    assert '1' == modifyposition['result']\n"}, "steps": [{"name": "Проверка ответа", "status": "failed", "statusDetails": {"message": "AssertionError: assert '1' == '-4'\n  - -4\n  + 1\n", "trace": "  File \"C:\\Users\\Pavel Starovoitov.TFBDEV\\PycharmProjects\\wikmt5_antelope\\Antelope\\test_modifyposition.py\", line 200, in test_modifyposition_5\n    assert '1' == modifyposition['result']\n"}, "start": 1604313504304, "stop": 1604313504304}], "start": 1604313504303, "stop": 1604313504304}], "attachments": [{"name": "stdout", "source": "1341be8c-54c1-45a5-97e6-0e7cf43066c9-attachment.txt", "type": "text/plain"}], "start": 1604313503298, "stop": 1604313504304, "uuid": "b6e2e113-4965-4ba9-bd13-71336c259254", "historyId": "9f807c7db1d25285601faa9797f892c0", "testCaseId": "17ad809686d5c8566f30abaf9a951a46", "fullName": "Antelope.test_modifyposition#test_modifyposition_5", "labels": [{"name": "severity", "value": "normal"}, {"name": "parentSuite", "value": "Antelope"}, {"name": "suite", "value": "test_modifyposition"}, {"name": "host", "value": "WKST-T-5"}, {"name": "thread", "value": "13344-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "Antelope.test_modifyposition"}]}