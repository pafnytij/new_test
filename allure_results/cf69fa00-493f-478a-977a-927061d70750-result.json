{"name": "Запрос bulkmodifydeal: проверка работы дополнительных параметров.", "status": "failed", "statusDetails": {"message": "AssertionError: assert '194145' == '194146'\n  - 194146\n  ?      ^\n  + 194145\n  ?      ^", "trace": "deal_history1 = {'deals_1': '194145', 'from': 1604327820, 'to': 1604327885}\n\n    @allure.title(\"Запрос bulkmodifydeal: проверка работы дополнительных параметров.\")\n    @allure.severity('blocker')\n    @pytest.mark.smoke\n    def test_bulkmodifydeal_1(deal_history1):\n        \"\"\"\n        Описание шагов:\n            Setup: создаём аккаунт с логином 100.\n                - Пополняем баланс аккаунта\n                - Открываем на нём позицию.\n                - Запрсоом getdealshistory находим номер нужной сделки.\n            Тест:\n                Шаг1: отправляем запрос на изменение данных о сделке\n                Шаг2: запрашиваем историю по необходимой сделке и сверяем данные\n                Шаг3: отправляем запрос на изменение gateway_price - не отрабатывает\n                Шаг4: проверка установленных параметров\n            Tear down:\n                - Закрытие сделки\n                - Удаление аккаунта\n        \"\"\"\n    \n        getdealshistory_0 = wik5.request(wik_mt5_addr, 'getdealshistory',  **{'login': 100, 'from': deal_history1['from'], 'to': deal_history1['to']})\n        with allure.step('Запросом bulkmodifydeal устанавливаем новые параметры'):\n            wik5.request(wik_mt5_addr, 'addquote', symbol='GBPUSD', bid=0.5000, ask=0.5008)\n            bulkmodifydeal = wik5.request(wik_mt5_addr,'bulkmodifydeal', deal=deal_history1['deals_1'], symbol = \"GBPUSD\", action_=1, entry=1,\n                         volume=200, price = 0.4000, profit_rate = 1000, commission=15, swap=1.51, profit=250,\n                         margin_rate=0.4587, comment=\"test_deals\", sl=0.600, tp = 0.300, reason=5, gateway_price=0.4001)\n            # Данные для отчёта: stdout\n            print(\"Ответ на запрос bulkmodifydeal: \", bulkmodifydeal)\n            time.sleep(15)\n        with allure.step('Проверяем работу запроса'):\n            getdealshistory_1 = wik5.request(wik_mt5_addr, 'getdealshistory', **{'login': 100, 'from':deal_history1['from'], 'to':deal_history1['to']})\n>           assert deal_history1['deals_1'] == getdealshistory_1['size'][0]['deal']\nE           AssertionError: assert '194145' == '194146'\nE             - 194146\nE             ?      ^\nE             + 194145\nE             ?      ^\n\nAntelope\\test_bulkmodifydeal.py:101: AssertionError"}, "description": "\n    Описание шагов:\n        Setup: создаём аккаунт с логином 100.\n            - Пополняем баланс аккаунта\n            - Открываем на нём позицию.\n            - Запрсоом getdealshistory находим номер нужной сделки.\n        Тест:\n            Шаг1: отправляем запрос на изменение данных о сделке\n            Шаг2: запрашиваем историю по необходимой сделке и сверяем данные\n            Шаг3: отправляем запрос на изменение gateway_price - не отрабатывает\n            Шаг4: проверка установленных параметров\n        Tear down:\n            - Закрытие сделки\n            - Удаление аккаунта\n    ", "steps": [{"name": "Запросом bulkmodifydeal устанавливаем новые параметры", "status": "passed", "start": 1604317055960, "stop": 1604317070978}, {"name": "Проверяем работу запроса", "status": "failed", "statusDetails": {"message": "AssertionError: assert '194145' == '194146'\n  - 194146\n  ?      ^\n  + 194145\n  ?      ^\n", "trace": "  File \"C:\\Users\\Pavel Starovoitov.TFBDEV\\PycharmProjects\\wikmt5_antelope\\Antelope\\test_bulkmodifydeal.py\", line 101, in test_bulkmodifydeal_1\n    assert deal_history1['deals_1'] == getdealshistory_1['size'][0]['deal']\n"}, "start": 1604317070978, "stop": 1604317070982}], "attachments": [{"name": "stdout", "source": "3f288af0-106c-474b-bbb5-675d50098cad-attachment.txt", "type": "text/plain"}], "start": 1604317055958, "stop": 1604317070983, "uuid": "209f691b-27b1-4879-bf48-3140f57da6a2", "historyId": "1af77f2033a0e04f654b6e3f1404a82c", "testCaseId": "d8fc72e75625788dc0eaa73a6058f80f", "fullName": "Antelope.test_bulkmodifydeal#test_bulkmodifydeal_1", "labels": [{"name": "severity", "value": "blocker"}, {"name": "tag", "value": "smoke"}, {"name": "parentSuite", "value": "Antelope"}, {"name": "suite", "value": "test_bulkmodifydeal"}, {"name": "host", "value": "WKST-T-5"}, {"name": "thread", "value": "8604-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "Antelope.test_bulkmodifydeal"}]}