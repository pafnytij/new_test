{"uid":"eba164c68f9c81b9","name":"Запрос getordershistory: в перечне несуществующий логин","fullName":"Antelope.test_getordershistory#test_getordershistory_4","historyId":"5b327db4d46f266d4b1ea70315953c54","time":{"start":1604317605719,"stop":1604317605723,"duration":4},"description":"\n    Описание шагов:\n        Setup: создаём аккаунты 100, 101\n            - Пополняем баланс\n            - Вбрасываем котировку\n            - Устанавливаем пендинг\n            - Вбрасываем котировку, которой активируем пендинг.\n        Тест:\n            Шаг1: отправляем запрос getordershistory с несуществющим 99 логином в перечне\n            Шаг2: Проверяем ответ\n            Ожидаемый ответ: result=1&reason=&items=10&failed_login=99&size=1127\n                             100; -------\n                             &request_id=\n        Tear down:\n            - Удаление аккаунтов\n\n    ","descriptionHtml":"<pre><code>Описание шагов:\n    Setup: создаём аккаунты 100, 101\n        - Пополняем баланс\n        - Вбрасываем котировку\n        - Устанавливаем пендинг\n        - Вбрасываем котировку, которой активируем пендинг.\n    Тест:\n        Шаг1: отправляем запрос getordershistory с несуществющим 99 логином в перечне\n        Шаг2: Проверяем ответ\n        Ожидаемый ответ: result=1&amp;reason=&amp;items=10&amp;failed_login=99&amp;size=1127\n                         100; -------\n                         &amp;request_id=\n    Tear down:\n        - Удаление аккаунтов\n</code></pre>\n","status":"failed","statusMessage":"AssertionError: assert ('0.7' == '0.7'\n    0.7 and '0.8' == '0.8'\n    0.8 and '0.08' == '0.08'\n    0.08 and '1.8' == '1.8'\n    1.8 and '100' == '100'\n    100 and '200' == '100'\n  - 100\n  + 200)","statusTrace":"order_history1 = {'from': 1604328394, 'to': 1604328410}\n\n    @allure.title(\"Запрос getordershistory: в перечне несуществующий логин\")\n    @allure.severity('critical')\n    def test_getordershistory_4(order_history1):\n        \"\"\"\n        Описание шагов:\n            Setup: создаём аккаунты 100, 101\n                - Пополняем баланс\n                - Вбрасываем котировку\n                - Устанавливаем пендинг\n                - Вбрасываем котировку, которой активируем пендинг.\n            Тест:\n                Шаг1: отправляем запрос getordershistory с несуществющим 99 логином в перечне\n                Шаг2: Проверяем ответ\n                Ожидаемый ответ: result=1&reason=&items=10&failed_login=99&size=1127\n                                 100; -------\n                                 &request_id=\n            Tear down:\n                - Удаление аккаунтов\n    \n        \"\"\"\n        with allure.step('Запрос getordershistory с несуществющим 99 логином в перечне'):\n            getordershistory_1 = wik5.request(wik_mt5_addr, 'getordershistory', **{'logins': \"100;101;99\", 'from': order_history1['from'], 'to': order_history1['to']})\n            # Данные для отчёта: stdout\n            print(\"Ответ на запрос getordershistory: \", getordershistory_1)\n        with allure.step('Проверка result и failed_login'):\n            assert '1' == getordershistory_1['result'] and '99'== getordershistory_1['failed_logins']\n        with allure.step('Проверка ответа'):\n>           assert '0.7' == getordershistory_1['size'][0][\"activation_price\"] and '0.8'== getordershistory_1['size'][0]['price_order'] \\\n               and '0.08'== getordershistory_1['size'][0]['price_sl'] and '1.8'== getordershistory_1['size'][0]['price_tp'] \\\n               and '100' == getordershistory_1['size'][0]['volume_initial'] and '200' == getordershistory_1['size'][1]['volume_initial'] \\\n               and 'EURUSD' == getordershistory_1['size'][0]['symbol'] and '100' == getordershistory_1['size'][0]['login'] \\\n               and '0.7' == getordershistory_1['size'][1][\"activation_price\"] and '0.85' == getordershistory_1['size'][1]['price_order'] \\\n               and '0.07' == getordershistory_1['size'][1]['price_sl'] and '1.9' == getordershistory_1['size'][1]['price_tp']\nE           AssertionError: assert ('0.7' == '0.7'\nE               0.7 and '0.8' == '0.8'\nE               0.8 and '0.08' == '0.08'\nE               0.08 and '1.8' == '1.8'\nE               1.8 and '100' == '100'\nE               100 and '200' == '100'\nE             - 100\nE             + 200)\n\nAntelope\\test_getordershistory.py:162: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":false,"beforeStages":[{"name":"order_history1","time":{"start":1604317593698,"stop":1604317605718,"duration":12020},"status":"passed","steps":[{"name":"Создаем аккаунт","time":{"start":1604317593698,"stop":1604317605718,"duration":12020},"status":"passed","steps":[{"name":"Начисление баланса на аккаунт","time":{"start":1604317593702,"stop":1604317598707,"duration":5005},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Вычисляем значение from","time":{"start":1604317598707,"stop":1604317599707,"duration":1000},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Вбрасываем котировку","time":{"start":1604317599707,"stop":1604317601710,"duration":2003},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Открываем ордера ","time":{"start":1604317601710,"stop":1604317605718,"duration":4008},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Вычисляем значение to","time":{"start":1604317605718,"stop":1604317605718,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":5,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":6,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"testStage":{"description":"\n    Описание шагов:\n        Setup: создаём аккаунты 100, 101\n            - Пополняем баланс\n            - Вбрасываем котировку\n            - Устанавливаем пендинг\n            - Вбрасываем котировку, которой активируем пендинг.\n        Тест:\n            Шаг1: отправляем запрос getordershistory с несуществющим 99 логином в перечне\n            Шаг2: Проверяем ответ\n            Ожидаемый ответ: result=1&reason=&items=10&failed_login=99&size=1127\n                             100; -------\n                             &request_id=\n        Tear down:\n            - Удаление аккаунтов\n\n    ","status":"failed","statusMessage":"AssertionError: assert ('0.7' == '0.7'\n    0.7 and '0.8' == '0.8'\n    0.8 and '0.08' == '0.08'\n    0.08 and '1.8' == '1.8'\n    1.8 and '100' == '100'\n    100 and '200' == '100'\n  - 100\n  + 200)","statusTrace":"order_history1 = {'from': 1604328394, 'to': 1604328410}\n\n    @allure.title(\"Запрос getordershistory: в перечне несуществующий логин\")\n    @allure.severity('critical')\n    def test_getordershistory_4(order_history1):\n        \"\"\"\n        Описание шагов:\n            Setup: создаём аккаунты 100, 101\n                - Пополняем баланс\n                - Вбрасываем котировку\n                - Устанавливаем пендинг\n                - Вбрасываем котировку, которой активируем пендинг.\n            Тест:\n                Шаг1: отправляем запрос getordershistory с несуществющим 99 логином в перечне\n                Шаг2: Проверяем ответ\n                Ожидаемый ответ: result=1&reason=&items=10&failed_login=99&size=1127\n                                 100; -------\n                                 &request_id=\n            Tear down:\n                - Удаление аккаунтов\n    \n        \"\"\"\n        with allure.step('Запрос getordershistory с несуществющим 99 логином в перечне'):\n            getordershistory_1 = wik5.request(wik_mt5_addr, 'getordershistory', **{'logins': \"100;101;99\", 'from': order_history1['from'], 'to': order_history1['to']})\n            # Данные для отчёта: stdout\n            print(\"Ответ на запрос getordershistory: \", getordershistory_1)\n        with allure.step('Проверка result и failed_login'):\n            assert '1' == getordershistory_1['result'] and '99'== getordershistory_1['failed_logins']\n        with allure.step('Проверка ответа'):\n>           assert '0.7' == getordershistory_1['size'][0][\"activation_price\"] and '0.8'== getordershistory_1['size'][0]['price_order'] \\\n               and '0.08'== getordershistory_1['size'][0]['price_sl'] and '1.8'== getordershistory_1['size'][0]['price_tp'] \\\n               and '100' == getordershistory_1['size'][0]['volume_initial'] and '200' == getordershistory_1['size'][1]['volume_initial'] \\\n               and 'EURUSD' == getordershistory_1['size'][0]['symbol'] and '100' == getordershistory_1['size'][0]['login'] \\\n               and '0.7' == getordershistory_1['size'][1][\"activation_price\"] and '0.85' == getordershistory_1['size'][1]['price_order'] \\\n               and '0.07' == getordershistory_1['size'][1]['price_sl'] and '1.9' == getordershistory_1['size'][1]['price_tp']\nE           AssertionError: assert ('0.7' == '0.7'\nE               0.7 and '0.8' == '0.8'\nE               0.8 and '0.08' == '0.08'\nE               0.08 and '1.8' == '1.8'\nE               1.8 and '100' == '100'\nE               100 and '200' == '100'\nE             - 100\nE             + 200)\n\nAntelope\\test_getordershistory.py:162: AssertionError","steps":[{"name":"Запрос getordershistory с несуществющим 99 логином в перечне","time":{"start":1604317605719,"stop":1604317605722,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Проверка result и failed_login","time":{"start":1604317605722,"stop":1604317605722,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Проверка ответа","time":{"start":1604317605722,"stop":1604317605723,"duration":1},"status":"failed","statusMessage":"AssertionError: assert ('0.7' == '0.7'\n    0.7 and '0.8' == '0.8'\n    0.8 and '0.08' == '0.08'\n    0.08 and '1.8' == '1.8'\n    1.8 and '100' == '100'\n    100 and '200' == '100'\n  - 100\n  + 200)\n","statusTrace":"  File \"C:\\Users\\Pavel Starovoitov.TFBDEV\\PycharmProjects\\wikmt5_antelope\\Antelope\\test_getordershistory.py\", line 162, in test_getordershistory_4\n    assert '0.7' == getordershistory_1['size'][0][\"activation_price\"] and '0.8'== getordershistory_1['size'][0]['price_order'] \\\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":true,"hasContent":true}],"attachments":[{"uid":"7fea882d3777d3eb","name":"stdout","source":"7fea882d3777d3eb.txt","type":"text/plain","size":2251}],"parameters":[],"stepsCount":3,"attachmentsCount":1,"shouldDisplayMessage":true,"hasContent":true},"afterStages":[{"name":"order_history1::0","time":{"start":1604317605742,"stop":1604317607750,"duration":2008},"status":"passed","steps":[{"name":"Удаление созданных аккаунтов","time":{"start":1604317605742,"stop":1604317607750,"duration":2008},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"labels":[{"name":"severity","value":"critical"},{"name":"parentSuite","value":"Antelope"},{"name":"suite","value":"test_getordershistory"},{"name":"host","value":"WKST-T-5"},{"name":"thread","value":"8604-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"Antelope.test_getordershistory"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"critical","retries":[{"uid":"884661005c4dadff","status":"failed","statusDetails":"AssertionError: assert ('0.7' == '0.7'\n    0.7 and '0.8' == '0.8'\n    0.8 and '0.08' == '0.08'\n    0.08 and '1.8' == '1.8'\n    1.8 and '100' == '100'\n    100 and '200' == '100'\n  - 100\n  + 200)","time":{"start":1604313369157,"stop":1604313369161,"duration":4}}],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"eba164c68f9c81b9.json","parameterValues":[]}