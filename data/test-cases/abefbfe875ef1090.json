{"uid":"abefbfe875ef1090","name":"Запрос modifygroup: с MarginCall и StopOut.","fullName":"Antelope.test_modifygroup#test_modifygroup_4","historyId":"a983790882f41013d3575e1247c803c4","time":{"start":1604317718513,"stop":1604317718515,"duration":2},"description":"\n    Описание шагов:\n        Setup: Создаём группу.\n        Тест:\n            Шаг1: запрос modifygroup с margin call<StopOut\n                Ожидаемый результат шаг1: result=-4&reason=Unable to update group test1: MT_RET_ERR_NOTFOUND&request_id=\n            Шаг2: запрос modifygroup с StopOut=MarginCall\n            Шаг3: запрос modifygroup с StopOut<MarginCall\n                Ожидаемый результат: result=1\n    ","descriptionHtml":"<pre><code>Описание шагов:\n    Setup: Создаём группу.\n    Тест:\n        Шаг1: запрос modifygroup с margin call&lt;StopOut\n            Ожидаемый результат шаг1: result=-4&amp;reason=Unable to update group test1: MT_RET_ERR_NOTFOUND&amp;request_id=\n        Шаг2: запрос modifygroup с StopOut=MarginCall\n        Шаг3: запрос modifygroup с StopOut&lt;MarginCall\n            Ожидаемый результат: result=1\n</code></pre>\n","status":"failed","statusMessage":"AssertionError: assert ('-4' == '-4'\n    -4 and 'Unable to up...ET_ERR_PARAMS' == 'Unable to ge..._ERR_NOTFOUND'\n  - Unable to get group 'test685y782304': MT_RET_ERR_NOTFOUND\n  ?           ^ -       -              -             ^^^^^^^^\n  + Unable to update group test685y782304: MT_RET_ERR_PARAMS\n  ?           ^^^^^                                   ^^^^^^)","statusTrace":"groups = {'group_name': 'test685y782304'}\n\n    @allure.title(\"Запрос modifygroup: с MarginCall и StopOut.\")\n    @allure.severity('normal')\n    def test_modifygroup_4(groups):\n        \"\"\"\n        Описание шагов:\n            Setup: Создаём группу.\n            Тест:\n                Шаг1: запрос modifygroup с margin call<StopOut\n                    Ожидаемый результат шаг1: result=-4&reason=Unable to update group test1: MT_RET_ERR_NOTFOUND&request_id=\n                Шаг2: запрос modifygroup с StopOut=MarginCall\n                Шаг3: запрос modifygroup с StopOut<MarginCall\n                    Ожидаемый результат: result=1\n        \"\"\"\n        name_group = groups['group_name']\n        reason_ER = \"Unable to update group \" + name_group + \": MT_RET_ERR_PARAMS\"\n        with allure.step('Запрос modifygroup с margin call<StopOut'):\n            modifygroup_1 = wik5.request(wik_mt5_addr, 'modifygroup', name=name_group, currency='EUR', margin_call=50, margin_stopout=450)\n            # Данные для отчёта: stdout\n            print(\"Ответ на запрос modifygroup шаг1: \", modifygroup_1)\n            with allure.step('Проверка ответа'):\n>               assert '-4' == modifygroup_1['result'] and reason_ER == modifygroup_1['reason']\nE               AssertionError: assert ('-4' == '-4'\nE                   -4 and 'Unable to up...ET_ERR_PARAMS' == 'Unable to ge..._ERR_NOTFOUND'\nE                 - Unable to get group 'test685y782304': MT_RET_ERR_NOTFOUND\nE                 ?           ^ -       -              -             ^^^^^^^^\nE                 + Unable to update group test685y782304: MT_RET_ERR_PARAMS\nE                 ?           ^^^^^                                   ^^^^^^)\n\nAntelope\\test_modifygroup.py:169: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"groups","time":{"start":1604317718510,"stop":1604317718513,"duration":3},"status":"passed","steps":[{"name":"Выбор имени для группы","time":{"start":1604317718510,"stop":1604317718510,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Создаем новую группу по сгенерированному имени","time":{"start":1604317718510,"stop":1604317718513,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"testStage":{"description":"\n    Описание шагов:\n        Setup: Создаём группу.\n        Тест:\n            Шаг1: запрос modifygroup с margin call<StopOut\n                Ожидаемый результат шаг1: result=-4&reason=Unable to update group test1: MT_RET_ERR_NOTFOUND&request_id=\n            Шаг2: запрос modifygroup с StopOut=MarginCall\n            Шаг3: запрос modifygroup с StopOut<MarginCall\n                Ожидаемый результат: result=1\n    ","status":"failed","statusMessage":"AssertionError: assert ('-4' == '-4'\n    -4 and 'Unable to up...ET_ERR_PARAMS' == 'Unable to ge..._ERR_NOTFOUND'\n  - Unable to get group 'test685y782304': MT_RET_ERR_NOTFOUND\n  ?           ^ -       -              -             ^^^^^^^^\n  + Unable to update group test685y782304: MT_RET_ERR_PARAMS\n  ?           ^^^^^                                   ^^^^^^)","statusTrace":"groups = {'group_name': 'test685y782304'}\n\n    @allure.title(\"Запрос modifygroup: с MarginCall и StopOut.\")\n    @allure.severity('normal')\n    def test_modifygroup_4(groups):\n        \"\"\"\n        Описание шагов:\n            Setup: Создаём группу.\n            Тест:\n                Шаг1: запрос modifygroup с margin call<StopOut\n                    Ожидаемый результат шаг1: result=-4&reason=Unable to update group test1: MT_RET_ERR_NOTFOUND&request_id=\n                Шаг2: запрос modifygroup с StopOut=MarginCall\n                Шаг3: запрос modifygroup с StopOut<MarginCall\n                    Ожидаемый результат: result=1\n        \"\"\"\n        name_group = groups['group_name']\n        reason_ER = \"Unable to update group \" + name_group + \": MT_RET_ERR_PARAMS\"\n        with allure.step('Запрос modifygroup с margin call<StopOut'):\n            modifygroup_1 = wik5.request(wik_mt5_addr, 'modifygroup', name=name_group, currency='EUR', margin_call=50, margin_stopout=450)\n            # Данные для отчёта: stdout\n            print(\"Ответ на запрос modifygroup шаг1: \", modifygroup_1)\n            with allure.step('Проверка ответа'):\n>               assert '-4' == modifygroup_1['result'] and reason_ER == modifygroup_1['reason']\nE               AssertionError: assert ('-4' == '-4'\nE                   -4 and 'Unable to up...ET_ERR_PARAMS' == 'Unable to ge..._ERR_NOTFOUND'\nE                 - Unable to get group 'test685y782304': MT_RET_ERR_NOTFOUND\nE                 ?           ^ -       -              -             ^^^^^^^^\nE                 + Unable to update group test685y782304: MT_RET_ERR_PARAMS\nE                 ?           ^^^^^                                   ^^^^^^)\n\nAntelope\\test_modifygroup.py:169: AssertionError","steps":[{"name":"Запрос modifygroup с margin call<StopOut","time":{"start":1604317718513,"stop":1604317718515,"duration":2},"status":"failed","statusMessage":"AssertionError: assert ('-4' == '-4'\n    -4 and 'Unable to up...ET_ERR_PARAMS' == 'Unable to ge..._ERR_NOTFOUND'\n  - Unable to get group 'test685y782304': MT_RET_ERR_NOTFOUND\n  ?           ^ -       -              -             ^^^^^^^^\n  + Unable to update group test685y782304: MT_RET_ERR_PARAMS\n  ?           ^^^^^                                   ^^^^^^)\n","statusTrace":"  File \"C:\\Users\\Pavel Starovoitov.TFBDEV\\PycharmProjects\\wikmt5_antelope\\Antelope\\test_modifygroup.py\", line 169, in test_modifygroup_4\n    assert '-4' == modifygroup_1['result'] and reason_ER == modifygroup_1['reason']\n","steps":[{"name":"Проверка ответа","time":{"start":1604317718514,"stop":1604317718515,"duration":1},"status":"failed","statusMessage":"AssertionError: assert ('-4' == '-4'\n    -4 and 'Unable to up...ET_ERR_PARAMS' == 'Unable to ge..._ERR_NOTFOUND'\n  - Unable to get group 'test685y782304': MT_RET_ERR_NOTFOUND\n  ?           ^ -       -              -             ^^^^^^^^\n  + Unable to update group test685y782304: MT_RET_ERR_PARAMS\n  ?           ^^^^^                                   ^^^^^^)\n","statusTrace":"  File \"C:\\Users\\Pavel Starovoitov.TFBDEV\\PycharmProjects\\wikmt5_antelope\\Antelope\\test_modifygroup.py\", line 169, in test_modifygroup_4\n    assert '-4' == modifygroup_1['result'] and reason_ER == modifygroup_1['reason']\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":true,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"746b7f0e5d9582ae","name":"stdout","source":"746b7f0e5d9582ae.txt","type":"text/plain","size":157}],"parameters":[],"stepsCount":2,"attachmentsCount":1,"shouldDisplayMessage":true,"hasContent":true},"afterStages":[{"name":"groups::0","time":{"start":1604317718528,"stop":1604317718528,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"labels":[{"name":"severity","value":"normal"},{"name":"parentSuite","value":"Antelope"},{"name":"suite","value":"test_modifygroup"},{"name":"host","value":"WKST-T-5"},{"name":"thread","value":"8604-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"Antelope.test_modifygroup"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"c3229592e6e178ac","status":"passed","time":{"start":1604313481914,"stop":1604313481921,"duration":7}}],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"abefbfe875ef1090.json","parameterValues":[]}